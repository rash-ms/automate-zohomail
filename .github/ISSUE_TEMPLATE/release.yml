name: Promote to Prod
description: Build a release from PRs authored by you that target the base branch and have your unique label.
title: "Release: <short description>"
labels: ["release-request"]
body:
  - type: input
    id: gh_username
    attributes:
      label: GitHub username
      placeholder: "e.g. octocat"
    validations:
      required: true

  - type: input
    id: base
    attributes:
      label: Base branch PRs target (e.g. stage)
      placeholder: "staging"
    validations:
      required: true

  - type: input
    id: days_back
    attributes:
      label: Updated within last (days)
      placeholder: "14"
    validations:
      required: true

  - type: dropdown
    id: state
    attributes:
      label: PR state to include
      options: ["open", "merged"]
    validations:
      required: true

  - type: dropdown
    id: slack_cc
    attributes:
      label: Slack CC (optional)
      description: "Pick Slack users/teams to notify"
      multiple: true
      options:
        - "<@U0123AAAA> Alice"
        - "<@U0456BBBB> Bob"
        - "<!subteam^S0TEAMID|@release-approvers> Release approvers"
    validations:
      required: false

  - type: textarea
    id: extra_prs
    attributes:
      label: Extra PR numbers or URLs to include (optional)
      placeholder: "123\nhttps://github.com/org/repo/pull/456"
    validations:
      required: false

  - type: checkboxes
    id: confirm
    attributes:
      label: Confirm
      options:
        - label: "I confirm I own the PRs under this username and have applied the label `ready-for-prod-<suffix>` to each PR."
          required: true
